<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Produtos - Sistema Integrado</title>
    <meta name="description" content="Catálogo inteligente de produtos com sistema híbrido de sincronização, focado em simplificar a gestão via Excel com recursos avançados.">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --background: 210 11% 98%;
            --foreground: 222.2 84% 4.9%;
            --primary: 221.2 83.2% 53.3%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 84% 4.9%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 84% 4.9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221.2 83.2% 53.3%;
            --radius: 0.5rem;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
        }
        .card {
            background: white;
            border-radius: var(--radius);
            border: 1px solid hsl(var(--border));
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius);
            text-decoration: none;
            transition: all 0.2s;
            font-weight: 500;
            cursor: pointer;
            border: none;
            padding: 0.5rem 1rem;
        }
        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }
        .btn-primary:hover {
            opacity: 0.9;
        }
        .btn-outline {
            border: 1px solid hsl(var(--border));
            background: white;
            color: hsl(var(--foreground));
        }
        .btn-outline:hover {
            background-color: hsl(var(--secondary));
        }
        .badge {
            display: inline-flex;
            align-items: center;
            border-radius: calc(var(--radius) - 2px);
            padding: 0.25rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .badge-success {
            background-color: rgb(34 197 94 / 0.1);
            color: rgb(21 128 61);
        }
        .badge-warning {
            background-color: rgb(245 158 11 / 0.1);
            color: rgb(146 64 14);
        }
        .badge-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }
        .input {
            width: 100%;
            border-radius: var(--radius);
            border: 1px solid hsl(var(--border));
            background-color: white;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
        }
        .input:focus {
            outline: 2px solid hsl(var(--ring));
            outline-offset: 2px;
        }
        .tab-active {
            border-bottom: 2px solid hsl(var(--primary));
            color: hsl(var(--primary));
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .toast {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: white;
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 1rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            z-index: 50;
            max-width: 420px;
        }
        .toast-success {
            border-left: 4px solid rgb(34 197 94);
        }
        .toast-error {
            border-left: 4px solid rgb(239 68 68);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        const { useState, useEffect, useCallback } = React;

        // Sistema de sincronização para GitHub Pages
        class GitHubPagesSyncManager {
            constructor() {
                this.syncKey = 'catalog_sync_data';
                this.activityKey = 'catalog_activity_log';
                this.lastSyncKey = 'catalog_last_sync';
                this.setupBroadcastChannel();
            }

            setupBroadcastChannel() {
                if ('BroadcastChannel' in window) {
                    this.channel = new BroadcastChannel('catalog_sync');
                    this.channel.onmessage = (event) => {
                        if (event.data.type === 'SYNC_UPDATE') {
                            window.dispatchEvent(new CustomEvent('catalogSync', { detail: event.data }));
                        }
                    };
                }
            }

            checkBrowserSupport() {
                let support = 0;
                if (typeof Storage !== 'undefined') support += 25;
                if ('indexedDB' in window) support += 25;
                if ('serviceWorker' in navigator) support += 25;
                if ('BroadcastChannel' in window) support += 25;
                return support;
            }

            getProducts() {
                try {
                    const data = localStorage.getItem('catalog_products');
                    return data ? JSON.parse(data) : [];
                } catch {
                    return [];
                }
            }

            getCategories() {
                try {
                    const data = localStorage.getItem('catalog_categories');
                    return data ? JSON.parse(data) : [];
                } catch {
                    return [];
                }
            }

            syncAcrossBrowsers() {
                const syncData = {
                    products: this.getProducts(),
                    categories: this.getCategories(),
                    timestamp: new Date().toISOString(),
                    sessionId: Math.random().toString(36).substr(2, 9)
                };

                localStorage.setItem(this.syncKey, JSON.stringify(syncData));
                localStorage.setItem(this.lastSyncKey, new Date().toISOString());
                
                if (this.channel) {
                    this.channel.postMessage({ type: 'SYNC_UPDATE', data: syncData });
                }

                this.addActivityLog('Sincronização executada', 'Sistema', 'success');
                return syncData;
            }

            checkDataIntegrity() {
                const issues = [];
                let totalChecks = 0;

                const products = this.getProducts();
                const categories = this.getCategories();

                totalChecks++;
                if (!Array.isArray(products)) {
                    issues.push('Formato de produtos inválido');
                }

                totalChecks++;
                if (!Array.isArray(categories)) {
                    issues.push('Formato de categorias inválido');
                }

                totalChecks++;
                const duplicateProducts = products.filter((p, i, arr) => 
                    arr.findIndex(p2 => p2.id === p.id) !== i
                );
                if (duplicateProducts.length > 0) {
                    issues.push(`${duplicateProducts.length} produto(s) duplicado(s) encontrado(s)`);
                }

                totalChecks++;
                const orphanProducts = products.filter(p => 
                    !categories.some(c => c.name === p.category)
                );
                if (orphanProducts.length > 0) {
                    issues.push(`${orphanProducts.length} produto(s) sem categoria válida`);
                }

                return { issues, totalChecks };
            }

            addActivityLog(action, source, status) {
                try {
                    const logs = this.getActivityLogs();
                    const newLog = {
                        id: Date.now().toString(),
                        action,
                        timestamp: new Date().toISOString(),
                        source,
                        status
                    };
                    
                    logs.unshift(newLog);
                    
                    if (logs.length > 50) {
                        logs.splice(50);
                    }
                    
                    localStorage.setItem(this.activityKey, JSON.stringify(logs));
                } catch (error) {
                    console.error('Erro ao salvar log:', error);
                }
            }

            getActivityLogs() {
                try {
                    const data = localStorage.getItem(this.activityKey);
                    return data ? JSON.parse(data) : [];
                } catch {
                    return [];
                }
            }

            getStorageInfo() {
                try {
                    let used = 0;
                    for (let key in localStorage) {
                        if (localStorage.hasOwnProperty(key)) {
                            used += localStorage[key].length;
                        }
                    }
                    
                    const availableEstimate = 5 * 1024 * 1024;
                    
                    return {
                        used: Math.round(used / 1024),
                        available: Math.round((availableEstimate - used) / 1024)
                    };
                } catch {
                    return { used: 0, available: 0 };
                }
            }
        }

        // Toast Component
        function Toast({ message, type, isVisible, onClose }) {
            useEffect(() => {
                if (isVisible) {
                    const timer = setTimeout(onClose, 3000);
                    return () => clearTimeout(timer);
                }
            }, [isVisible, onClose]);

            if (!isVisible) return null;

            return React.createElement('div', {
                className: `toast toast-${type}`,
                onClick: onClose
            }, [
                React.createElement('div', { key: 'message', className: 'font-medium' }, message),
                React.createElement('div', { key: 'close', className: 'text-xs text-gray-500 mt-1' }, 'Clique para fechar')
            ]);
        }

        // Database Monitoring Component
        function DatabaseMonitoring() {
            const [isAutoRefresh, setIsAutoRefresh] = useState(true);
            const [dbStatus, setDbStatus] = useState(null);
            const [syncStatus, setSyncStatus] = useState(null);
            const [activityLogs, setActivityLogs] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [isSyncing, setIsSyncing] = useState(false);
            const [isCheckingIntegrity, setIsCheckingIntegrity] = useState(false);
            const [toast, setToast] = useState({ message: '', type: 'success', isVisible: false });

            const syncManager = new GitHubPagesSyncManager();

            const showToast = useCallback((message, type = 'success') => {
                setToast({ message, type, isVisible: true });
            }, []);

            const hideToast = useCallback(() => {
                setToast(prev => ({ ...prev, isVisible: false }));
            }, []);

            const calculateUptime = () => {
                const startTime = sessionStorage.getItem('app_start_time');
                if (!startTime) {
                    sessionStorage.setItem('app_start_time', Date.now().toString());
                    return '0m';
                }
                
                const elapsed = Date.now() - parseInt(startTime);
                const minutes = Math.floor(elapsed / 60000);
                const hours = Math.floor(minutes / 60);
                
                if (hours > 0) {
                    return `${hours}h ${minutes % 60}m`;
                }
                return `${minutes}m`;
            };

            const measureQueryTime = () => {
                const start = performance.now();
                syncManager.getProducts();
                syncManager.getCategories();
                const end = performance.now();
                return Math.round(end - start);
            };

            const updateStatus = useCallback(() => {
                setIsLoading(true);
                
                const products = syncManager.getProducts();
                const categories = syncManager.getCategories();
                const storageInfo = syncManager.getStorageInfo();
                const browserSupport = syncManager.checkBrowserSupport();
                const lastSync = localStorage.getItem('catalog_last_sync') || '';
                
                const status = {
                    connection: products.length > 0 || categories.length > 0 ? 'synchronized' : 'outdated',
                    lastSync,
                    totalProducts: products.length,
                    totalCategories: categories.length,
                    totalUsers: 1,
                    version: '1.0.0-github-pages',
                    uptime: calculateUptime(),
                    performance: {
                        queryTime: measureQueryTime(),
                        storageUsed: storageInfo.used,
                        browserSupport
                    }
                };

                const syncStat = {
                    isActive: isAutoRefresh,
                    lastUpdate: lastSync,
                    pendingChanges: 0,
                    errors: [],
                    browserSessions: 1,
                    syncStrategy: 'localStorage'
                };

                setDbStatus(status);
                setSyncStatus(syncStat);
                setActivityLogs(syncManager.getActivityLogs());
                setIsLoading(false);
            }, [isAutoRefresh]);

            const handleForceSync = async () => {
                setIsSyncing(true);
                try {
                    syncManager.syncAcrossBrowsers();
                    updateStatus();
                    showToast('Sincronização executada com sucesso!');
                } catch (error) {
                    showToast('Erro durante a sincronização', 'error');
                } finally {
                    setIsSyncing(false);
                }
            };

            const handleCheckIntegrity = async () => {
                setIsCheckingIntegrity(true);
                try {
                    const result = syncManager.checkDataIntegrity();
                    
                    if (result.issues.length > 0) {
                        showToast(`Verificação concluída: ${result.issues.length} problema(s) encontrado(s)`, 'error');
                        syncManager.addActivityLog(
                            `Integridade verificada: ${result.issues.length} problemas encontrados`,
                            'Sistema',
                            'warning'
                        );
                    } else {
                        showToast('Base de dados íntegra! Nenhum problema encontrado.');
                        syncManager.addActivityLog('Verificação de integridade: dados íntegros', 'Sistema', 'success');
                    }
                    
                    updateStatus();
                } catch (error) {
                    showToast('Erro ao verificar integridade', 'error');
                } finally {
                    setIsCheckingIntegrity(false);
                }
            };

            const formatLastSync = (lastSync) => {
                if (!lastSync) return 'Nunca';
                const date = new Date(lastSync);
                return date.toLocaleString('pt-BR');
            };

            const getStatusColor = (status) => {
                switch (status) {
                    case 'synchronized':
                        return 'badge-success';
                    case 'outdated':
                        return 'badge-warning';
                    default:
                        return 'badge-secondary';
                }
            };

            useEffect(() => {
                updateStatus();
                
                const handleStorageChange = () => {
                    updateStatus();
                };
                
                window.addEventListener('storage', handleStorageChange);
                window.addEventListener('catalogSync', updateStatus);
                
                return () => {
                    window.removeEventListener('storage', handleStorageChange);
                    window.removeEventListener('catalogSync', updateStatus);
                };
            }, [updateStatus]);

            useEffect(() => {
                if (!isAutoRefresh) return;
                
                const interval = setInterval(() => {
                    updateStatus();
                }, 30000);
                
                return () => clearInterval(interval);
            }, [isAutoRefresh, updateStatus]);

            return React.createElement('div', { className: 'min-h-screen bg-gray-50 p-6' }, [
                React.createElement('div', { key: 'header', className: 'max-w-7xl mx-auto' }, [
                    React.createElement('div', { key: 'title', className: 'mb-8' }, [
                        React.createElement('h1', { key: 'h1', className: 'text-3xl font-bold text-gray-900 mb-2' }, 'Monitoramento GitHub Pages'),
                        React.createElement('p', { key: 'subtitle', className: 'text-gray-600' }, 'Sincronização entre navegadores e sistemas'),
                        React.createElement('div', { key: 'actions', className: 'flex gap-4 mt-4' }, [
                            React.createElement('button', {
                                key: 'refresh',
                                className: `btn btn-outline ${isLoading ? 'opacity-50' : ''}`,
                                onClick: updateStatus,
                                disabled: isLoading
                            }, [
                                React.createElement('span', { key: 'icon', className: `inline-block w-4 h-4 mr-2 ${isLoading ? 'animate-spin' : ''}` }, '↻'),
                                'Atualizar'
                            ]),
                            React.createElement('button', {
                                key: 'auto-refresh',
                                className: `btn ${isAutoRefresh ? 'btn-primary' : 'btn-outline'}`,
                                onClick: () => setIsAutoRefresh(!isAutoRefresh)
                            }, [
                                React.createElement('span', { key: 'icon', className: 'inline-block w-4 h-4 mr-2' }, '⚡'),
                                `Auto-refresh ${isAutoRefresh ? 'ON' : 'OFF'}`
                            ])
                        ])
                    ]),

                    // Status Cards
                    React.createElement('div', { key: 'status-cards', className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8' }, [
                        React.createElement('div', { key: 'sync-status', className: 'card p-6' }, [
                            React.createElement('h3', { key: 'title', className: 'text-sm font-medium text-gray-600 mb-4' }, 'Status da Sincronização'),
                            React.createElement('div', { key: 'content', className: 'flex items-center space-x-3' }, [
                                React.createElement('div', { key: 'icon', className: 'w-8 h-8 text-blue-600' }, '🌐'),
                                React.createElement('div', { key: 'info' }, [
                                    React.createElement('span', {
                                        key: 'badge',
                                        className: `badge ${getStatusColor(dbStatus?.connection)}`
                                    }, dbStatus?.connection === 'synchronized' ? 'Sincronizado' : 'Aguardando'),
                                    React.createElement('p', { key: 'uptime', className: 'text-xs text-gray-500 mt-1' }, `Uptime: ${dbStatus?.uptime || '0m'}`)
                                ])
                            ])
                        ]),

                        React.createElement('div', { key: 'products', className: 'card p-6' }, [
                            React.createElement('h3', { key: 'title', className: 'text-sm font-medium text-gray-600 mb-4' }, 'Total de Produtos'),
                            React.createElement('div', { key: 'content', className: 'flex items-center space-x-3' }, [
                                React.createElement('div', { key: 'icon', className: 'w-8 h-8 text-green-600' }, '📦'),
                                React.createElement('div', { key: 'info' }, [
                                    React.createElement('p', { key: 'count', className: 'text-2xl font-bold text-gray-900' }, dbStatus?.totalProducts || 0),
                                    React.createElement('p', { key: 'label', className: 'text-xs text-gray-500' }, 'produtos cadastrados')
                                ])
                            ])
                        ]),

                        React.createElement('div', { key: 'categories', className: 'card p-6' }, [
                            React.createElement('h3', { key: 'title', className: 'text-sm font-medium text-gray-600 mb-4' }, 'Total de Categorias'),
                            React.createElement('div', { key: 'content', className: 'flex items-center space-x-3' }, [
                                React.createElement('div', { key: 'icon', className: 'w-8 h-8 text-purple-600' }, '🏷️'),
                                React.createElement('div', { key: 'info' }, [
                                    React.createElement('p', { key: 'count', className: 'text-2xl font-bold text-gray-900' }, dbStatus?.totalCategories || 0),
                                    React.createElement('p', { key: 'label', className: 'text-xs text-gray-500' }, 'categorias ativas')
                                ])
                            ])
                        ]),

                        React.createElement('div', { key: 'performance', className: 'card p-6' }, [
                            React.createElement('h3', { key: 'title', className: 'text-sm font-medium text-gray-600 mb-4' }, 'Performance'),
                            React.createElement('div', { key: 'content', className: 'flex items-center space-x-3' }, [
                                React.createElement('div', { key: 'icon', className: 'w-8 h-8 text-orange-600' }, '⚡'),
                                React.createElement('div', { key: 'info' }, [
                                    React.createElement('p', { key: 'time', className: 'text-lg font-bold text-gray-900' }, `${dbStatus?.performance?.queryTime || 0}ms`),
                                    React.createElement('p', { key: 'label', className: 'text-xs text-gray-500' }, 'tempo de consulta')
                                ])
                            ])
                        ])
                    ]),

                    // Main Content
                    React.createElement('div', { key: 'main-content', className: 'grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8' }, [
                        React.createElement('div', { key: 'sync-panel', className: 'card p-6' }, [
                            React.createElement('h3', { key: 'title', className: 'text-lg font-semibold mb-4 flex items-center' }, [
                                React.createElement('span', { key: 'icon', className: 'mr-2' }, '🔄'),
                                'Status de Sincronização'
                            ]),
                            React.createElement('div', { key: 'content', className: 'space-y-4' }, [
                                React.createElement('div', { key: 'active-status', className: 'flex justify-between items-center' }, [
                                    React.createElement('span', { key: 'label', className: 'text-sm font-medium' }, 'Estado da Sincronização:'),
                                    React.createElement('span', {
                                        key: 'badge',
                                        className: `badge ${syncStatus?.isActive ? 'badge-success' : 'badge-secondary'}`
                                    }, syncStatus?.isActive ? 'Ativa' : 'Inativa')
                                ]),
                                React.createElement('div', { key: 'last-sync', className: 'flex justify-between items-center' }, [
                                    React.createElement('span', { key: 'label', className: 'text-sm font-medium' }, 'Última Sincronização:'),
                                    React.createElement('span', { key: 'time', className: 'text-sm text-gray-600' }, formatLastSync(syncStatus?.lastUpdate || ''))
                                ]),
                                React.createElement('div', { key: 'strategy', className: 'flex justify-between items-center' }, [
                                    React.createElement('span', { key: 'label', className: 'text-sm font-medium' }, 'Estratégia:'),
                                    React.createElement('span', { key: 'badge', className: 'badge badge-secondary' }, syncStatus?.syncStrategy || 'localStorage')
                                ]),
                                React.createElement('div', { key: 'browser-support', className: 'flex justify-between items-center' }, [
                                    React.createElement('span', { key: 'label', className: 'text-sm font-medium' }, 'Suporte do Navegador:'),
                                    React.createElement('span', { key: 'badge', className: 'badge badge-secondary' }, `${dbStatus?.performance?.browserSupport || 0}%`)
                                ]),
                                React.createElement('div', { key: 'sync-action', className: 'pt-4 border-t' }, [
                                    React.createElement('button', {
                                        key: 'sync-btn',
                                        className: `btn btn-primary w-full ${isSyncing ? 'opacity-50' : ''}`,
                                        onClick: handleForceSync,
                                        disabled: isSyncing
                                    }, [
                                        React.createElement('span', { key: 'icon', className: `inline-block w-4 h-4 mr-2 ${isSyncing ? 'animate-spin' : ''}` }, '🔄'),
                                        'Forçar Sincronização'
                                    ])
                                ])
                            ])
                        ]),

                        React.createElement('div', { key: 'integrity-panel', className: 'card p-6' }, [
                            React.createElement('h3', { key: 'title', className: 'text-lg font-semibold mb-4 flex items-center' }, [
                                React.createElement('span', { key: 'icon', className: 'mr-2' }, '✅'),
                                'Manutenção e Integridade'
                            ]),
                            React.createElement('div', { key: 'content', className: 'space-y-4' }, [
                                React.createElement('button', {
                                    key: 'integrity-btn',
                                    className: `btn btn-outline w-full ${isCheckingIntegrity ? 'opacity-50' : ''}`,
                                    onClick: handleCheckIntegrity,
                                    disabled: isCheckingIntegrity
                                }, [
                                    React.createElement('span', { key: 'icon', className: `inline-block w-4 h-4 mr-2 ${isCheckingIntegrity ? 'animate-spin' : ''}` }, '✅'),
                                    'Verificar Integridade'
                                ]),
                                React.createElement('div', { key: 'system-info', className: 'pt-4 border-t' }, [
                                    React.createElement('h4', { key: 'title', className: 'text-sm font-medium text-gray-900 mb-2' }, 'Informações do Sistema'),
                                    React.createElement('div', { key: 'info', className: 'text-xs text-gray-600 space-y-1' }, [
                                        React.createElement('div', { key: 'version', className: 'flex justify-between' }, [
                                            React.createElement('span', { key: 'label' }, 'Versão:'),
                                            React.createElement('span', { key: 'value' }, dbStatus?.version || 'N/A')
                                        ]),
                                        React.createElement('div', { key: 'storage', className: 'flex justify-between' }, [
                                            React.createElement('span', { key: 'label' }, 'Armazenamento Usado:'),
                                            React.createElement('span', { key: 'value' }, `${dbStatus?.performance?.storageUsed || 0}KB`)
                                        ]),
                                        React.createElement('div', { key: 'sessions', className: 'flex justify-between' }, [
                                            React.createElement('span', { key: 'label' }, 'Sessões Ativas:'),
                                            React.createElement('span', { key: 'value' }, syncStatus?.browserSessions || 1)
                                        ])
                                    ])
                                ])
                            ])
                        ])
                    ]),

                    // Activity Logs
                    React.createElement('div', { key: 'activity-logs', className: 'card p-6' }, [
                        React.createElement('h3', { key: 'title', className: 'text-lg font-semibold mb-4 flex items-center' }, [
                            React.createElement('span', { key: 'icon', className: 'mr-2' }, '🕐'),
                            'Atividade Recente'
                        ]),
                        React.createElement('div', { key: 'logs', className: 'space-y-2' }, 
                            activityLogs.length > 0 ? 
                                activityLogs.slice(0, 5).map((log) =>
                                    React.createElement('div', {
                                        key: log.id,
                                        className: 'text-sm text-gray-600 py-2 px-3 bg-gray-50 rounded'
                                    }, [
                                        React.createElement('div', { key: 'content', className: 'flex justify-between items-center' }, [
                                            React.createElement('div', { key: 'left', className: 'flex items-center gap-2' }, [
                                                React.createElement('span', { key: 'status-icon' }, 
                                                    log.status === 'success' ? '✅' : 
                                                    log.status === 'error' ? '❌' : '⚠️'
                                                ),
                                                React.createElement('span', { key: 'action' }, log.action)
                                            ]),
                                            React.createElement('div', { key: 'right', className: 'text-right' }, [
                                                React.createElement('span', { key: 'time', className: 'text-xs' }, formatLastSync(log.timestamp)),
                                                React.createElement('p', { key: 'source', className: 'text-xs text-gray-400' }, log.source)
                                            ])
                                        ])
                                    ])
                                ) :
                                [React.createElement('div', {
                                    key: 'empty',
                                    className: 'text-sm text-gray-500 py-4 text-center'
                                }, 'Nenhuma atividade registrada ainda')]
                        )
                    ])
                ]),

                React.createElement(Toast, {
                    key: 'toast',
                    message: toast.message,
                    type: toast.type,
                    isVisible: toast.isVisible,
                    onClose: hideToast
                })
            ]);
        }

        // Main App Component
        function App() {
            const [currentView, setCurrentView] = useState('catalog');
            const [isLoggedIn, setIsLoggedIn] = useState(false);

            const handleLogin = () => {
                setIsLoggedIn(true);
                setCurrentView('admin');
            };

            if (currentView === 'admin' && isLoggedIn) {
                return React.createElement(DatabaseMonitoring);
            }

            return React.createElement('div', { className: 'min-h-screen bg-gray-50 flex items-center justify-center' }, [
                React.createElement('div', { key: 'login', className: 'card p-8 max-w-md w-full mx-4' }, [
                    React.createElement('h2', { key: 'title', className: 'text-2xl font-bold text-center mb-6' }, 'Catálogo de Produtos'),
                    React.createElement('p', { key: 'subtitle', className: 'text-gray-600 text-center mb-6' }, 'Sistema Híbrido de Sincronização'),
                    React.createElement('button', {
                        key: 'login-btn',
                        className: 'btn btn-primary w-full',
                        onClick: handleLogin
                    }, 'Acessar Monitoramento'),
                    React.createElement('button', {
                        key: 'catalog-btn',
                        className: 'btn btn-outline w-full mt-2',
                        onClick: () => setCurrentView('catalog')
                    }, 'Ver Catálogo Público')
                ])
            ]);
        }

        // Initialize the app
        ReactDOM.render(React.createElement(App), document.getElementById('root'));

        // Initialize sync manager and add initial log
        const initialSyncManager = new GitHubPagesSyncManager();
        initialSyncManager.addActivityLog('Sistema iniciado', 'GitHub Pages', 'success');
    </script>
</body>
</html>